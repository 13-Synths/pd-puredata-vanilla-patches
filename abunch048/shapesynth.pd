#N canvas 422 94 554 451 12;
#X obj 76 232 *~;
#X obj 76 282 cos~;
#X obj 76 307 hip~ 5;
#X obj 129 203 osc~;
#X obj 73 339 outlet~;
#X obj 37 10 inlet pitch;
#X obj 283 163 mtof;
#X obj 153 9 inlet velo;
#N canvas 408 87 881 634 adr-velocity-peak 0;
#X obj 108 148 inlet;
#X text 104 123 trigger;
#X obj 108 176 sel 0;
#X obj 495 188 inlet;
#X obj 376 565 line~;
#X obj 557 188 inlet;
#X obj 692 187 inlet;
#X msg 108 207 stop;
#X obj 376 590 outlet~;
#X text 34 163 if zero;
#X text 35 180 release;
#X text 15 197 and cancel;
#X text 46 214 decay;
#X text 626 519 on release ramp;
#X text 627 536 back to zero;
#X text 25 78 ADSR ENVELOPE;
#X text 491 166 attack;
#X text 558 165 decay;
#X text 689 166 release;
#X text 197 187 attack;
#X obj 199 208 moses;
#X obj 189 238 t b b;
#X msg 119 453 0;
#X text 11 436 optionally;
#X text 1 454 bash to zero;
#X text 16 409 ATTACK:;
#X text 250 205 test for negative trigger;
#X text 248 229 if so \, zero;
#X text 249 245 the output;
#X text 273 281 in any case;
#X text 276 265 ... do this;
#X text 214 30 Arguments: level \, attack time \, decay time \, sustain
level \, release time. A \, D \, and R are in msec and S is in percent.
This patch is used as an abstraction in various examples.;
#X obj 221 470 pack 0 f;
#X obj 330 444 del;
#X obj 337 471 f;
#X obj 380 499 pack 0 f;
#X obj 633 493 pack 0 f;
#X msg 180 271 0;
#X obj 253 320 t b f;
#X obj 294 347 / 127;
#X obj 390 176 inlet peak;
#X obj 303 375 * 1;
#X text 230 92 peak level vb tussen 1 en 2 \, dit bepaalt niets meer
van sustain level zoals in origineel Puckette \, sustain is hier gelijk
aan velocity die binnenkomt;
#X connect 0 0 2 0;
#X connect 2 0 7 0;
#X connect 2 0 36 0;
#X connect 2 1 20 0;
#X connect 3 0 32 1;
#X connect 3 0 33 1;
#X connect 4 0 8 0;
#X connect 5 0 35 1;
#X connect 6 0 36 1;
#X connect 7 0 33 0;
#X connect 20 0 21 0;
#X connect 20 1 38 0;
#X connect 21 0 37 0;
#X connect 21 1 22 0;
#X connect 22 0 4 0;
#X connect 32 0 4 0;
#X connect 33 0 34 0;
#X connect 34 0 35 0;
#X connect 35 0 4 0;
#X connect 36 0 4 0;
#X connect 37 0 38 0;
#X connect 38 0 33 0;
#X connect 38 1 39 0;
#X connect 39 0 41 0;
#X connect 39 0 34 1;
#X connect 40 0 41 1;
#X connect 41 0 32 0;
#X restore 48 157 pd adr-velocity-peak;
#X msg 390 170 \$1 20;
#X obj 392 202 pack;
#X obj 392 229 line~;
#X obj 76 259 +~;
#X obj 35 60 r \$1-wasspeak;
#X obj 66 81 r \$1-wassatt;
#X obj 113 102 r \$1-wassdec;
#X obj 160 124 r \$1-wassrel;
#X obj 391 32 r \$1-wassshape;
#X obj 283 133 + 0;
#X obj 283 77 r \$1-wasxpb;
#X obj 283 103 t b f;
#X connect 0 0 12 0;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 3 0 0 1;
#X connect 5 0 18 0;
#X connect 6 0 3 0;
#X connect 7 0 8 0;
#X connect 8 0 0 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 1;
#X connect 12 0 1 0;
#X connect 13 0 8 1;
#X connect 14 0 8 2;
#X connect 15 0 8 3;
#X connect 16 0 8 4;
#X connect 17 0 9 0;
#X connect 18 0 6 0;
#X connect 19 0 20 0;
#X connect 20 0 18 0;
#X connect 20 1 18 1;
